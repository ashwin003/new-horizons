"use strict";(self.webpackChunkhorizons=self.webpackChunkhorizons||[]).push([[404],{3404:(I,g,r)=>{r.r(g),r.d(g,{SongsModule:()=>N});var c=r(6019),l=r(6214),v=r(3779),S=r(5922),u=r(7631),p=r(3886),U=r(6065),n=r(3668),a=r(2605),m=r(4753),d=r(4522);let _=(()=>{class e{constructor(t){this.httpClient=t}getAll(){return this.httpClient.get("/v1/songs").pipe((0,m.U)(t=>Object.keys(t).map(i=>this.convertToSong(t[i]))))}convertToSong(t){return{id:t.id,fileName:t["file-name"],name:t.name,musicUri:t.music_uri,imageUri:t.image_uri}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(d.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=r(1834);let f=(()=>{class e{constructor(){this.playing=!1,this.player=new Audio,this.currentlyPlaying=null;const t=this;this.player.addEventListener("ended",function(){t.currentlyPlaying=null,t.playing=!1})}play(t){this.currentlyPlaying=t,this.player.src=t,this.player.play(),this.playing=!0}togglePlayPause(t){this.playing?(this.pause(),this.currentlyPlaying!=t&&this.play(t)):this.play(t)}pause(){this.player.pause(),this.playing=!1}isPlaying(t){return this.currentlyPlaying==t&&this.playing}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=r(888),y=r(86),h=r(9112);let P=(()=>{class e{constructor(t,i){this.translationService=t,this.playService=i,this.song={fileName:"",id:1,imageUri:"",musicUri:"",name:new Map}}ngOnInit(){}getValue(t,i){return this.translationService.getValue(t,i)}get icon(){return this.playService.isPlaying(this.song.musicUri)?"pause":"play_arrow"}togglePlayPause(){this.playService.togglePlayPause(this.song.musicUri)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(C.D),n.Y36(f))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-song-tile"]],inputs:{song:"song"},decls:19,vars:3,consts:[[1,"spacer"],["mat-icon-button","",3,"click"],["mat-card-image","","defaultImage","assets/villagers.png",3,"lazyLoad"]],template:function(t,i){1&t&&(n.TgZ(0,"mat-card"),n._uU(1,"\n  "),n.TgZ(2,"mat-card-header"),n._uU(3,"\n    "),n.TgZ(4,"mat-card-title"),n._uU(5),n.qZA(),n._uU(6,"\n    "),n._UZ(7,"span",0),n._uU(8,"\n    "),n.TgZ(9,"button",1),n.NdJ("click",function(){return i.togglePlayPause()}),n._uU(10,"\n      "),n.TgZ(11,"mat-icon"),n._uU(12),n.qZA(),n._uU(13,"\n    "),n.qZA(),n._uU(14,"\n  "),n.qZA(),n._uU(15,"\n  "),n._UZ(16,"img",2),n._uU(17,"\n"),n.qZA(),n._uU(18,"\n")),2&t&&(n.xp6(5),n.Oqu(i.getValue(i.song.name,"name")),n.xp6(7),n.Oqu(i.icon),n.xp6(4),n.Q6J("lazyLoad",i.song.imageUri))},directives:[s.a8,s.dk,s.n5,y.lW,h.Hw,s.G2,u.z1],styles:[".mat-card[_ngcontent-%COMP%]{padding-bottom:0}.mat-card[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{top:-10px}"]}),e})();function M(e,o){if(1&e&&(n.TgZ(0,"div",2),n._uU(1,"\n    "),n._UZ(2,"app-song-tile",3),n._uU(3,"\n  "),n.qZA()),2&e){const t=o.$implicit;n.xp6(2),n.Q6J("song",t)}}let Z=(()=>{class e{constructor(t){this.sliderService=t,this.songs=[]}ngOnInit(){this.sliderService.getAll().subscribe(t=>this.songs=t)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(_))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-slider-songs"]],decls:5,vars:1,consts:[[1,"container"],["class","song",4,"ngFor","ngForOf"],[1,"song"],[3,"song"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0),n._uU(1,"\n  "),n.YNc(2,M,4,1,"div",1),n._uU(3,"\n"),n.qZA(),n._uU(4,"\n")),2&t&&(n.xp6(2),n.Q6J("ngForOf",i.songs))},directives:[c.sg,P],styles:[".container[_ngcontent-%COMP%]{overflow-x:hidden;display:grid!important;grid-template-columns:1fr;grid-gap:1em;gap:1em;margin:0 0 0 1em;padding:1em 1em 1em 0;height:calc(100vh - 112px)}@media screen and (min-width: 500px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (min-width: 1000px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}}@media screen and (min-width: 1500px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(7,1fr)}}.container[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer}"]}),e})(),T=(()=>{class e{constructor(t){this.httpClient=t}getAll(){return this.httpClient.get("/v1/backgroundmusic").pipe((0,m.U)(t=>Object.keys(t).map(i=>this.convertToSong(t[i]))))}convertToSong(t){return{id:t.id,fileName:t["file-name"],musicUri:t.music_uri,hour:t.hour,weather:t.weather}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(d.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function O(e,o){if(1&e){const t=n.EpF();n.TgZ(0,"mat-card"),n._uU(1,"\n    "),n.TgZ(2,"span"),n._uU(3,"\n      "),n.TgZ(4,"span",2),n._uU(5),n.qZA(),n._uU(6," \xa0"),n.TgZ(7,"span",2),n._uU(8),n.qZA(),n._uU(9,"\n    "),n.qZA(),n._uU(10,"\n    "),n.TgZ(11,"button",3),n.NdJ("click",function(){const z=n.CHM(t).$implicit;return n.oxw().togglePlayPause(z.musicUri)}),n._uU(12,"\n      "),n.TgZ(13,"mat-icon"),n._uU(14),n.qZA(),n._uU(15,"\n    "),n.qZA(),n._uU(16,"\n  "),n.qZA()}if(2&e){const t=o.$implicit,i=n.oxw();n.Gre("music ",t.weather,""),n.xp6(5),n.Oqu(i.getHourDisplayText(t.hour)),n.xp6(3),n.Oqu(t.weather),n.xp6(6),n.hij("\n        ",i.getIcon(t.musicUri),"\n      ")}}let x=(()=>{class e{constructor(t,i){this.backgroundMusicService=t,this.playService=i,this.songs=[]}ngOnInit(){this.backgroundMusicService.getAll().subscribe(t=>this.songs=t)}getHourDisplayText(t){return 0===t?"Midnight":t<12?t+" AM":12===t?"Noon":t-12+" PM"}getIcon(t){return this.playService.isPlaying(t)?"pause":"play_arrow"}togglePlayPause(t){this.playService.togglePlayPause(t)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(T),n.Y36(f))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-background-music"]],decls:5,vars:1,consts:[[1,"container"],[3,"class",4,"ngFor","ngForOf"],["translate",""],["mat-icon-button","",3,"click"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0),n._uU(1,"\n  "),n.YNc(2,O,17,6,"mat-card",1),n._uU(3,"\n"),n.qZA(),n._uU(4,"\n")),2&t&&(n.xp6(2),n.Q6J("ngForOf",i.songs))},directives:[c.sg,s.a8,l.Pi,y.lW,h.Hw],styles:[".container[_ngcontent-%COMP%]{overflow-x:hidden;display:grid!important;grid-template-columns:1fr;grid-gap:1em;gap:1em;margin:0 0 0 1em;padding:1em 1em 1em 0;height:calc(100vh - 112px)}@media screen and (min-width: 500px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}}@media screen and (min-width: 1500px){.container[_ngcontent-%COMP%]{grid-template-columns:repeat(9,1fr)}}.container[_ngcontent-%COMP%]   .music[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;background:linear-gradient(var(--c1, white),var(--c2, white))}.container[_ngcontent-%COMP%]   .music.Rainy[_ngcontent-%COMP%]{--c1: #616161;--c2: #9bc5c3}.container[_ngcontent-%COMP%]   .music.Sunny[_ngcontent-%COMP%]{--c1: #ff4e50;--c2: #f9d423}.container[_ngcontent-%COMP%]   .music.Snowy[_ngcontent-%COMP%]{--c1: #e6dada;--c2: #274046}"]}),e})();function A(e,o){1&e&&(n._uU(0,"KK Slider\xa0"),n.TgZ(1,"span",2),n._uU(2,"Songs"),n.qZA())}function w(e,o){1&e&&(n._uU(0,"\n      "),n._UZ(1,"app-slider-songs"),n._uU(2,"\n    "))}function b(e,o){1&e&&(n.TgZ(0,"span",2),n._uU(1,"Background Music"),n.qZA())}function k(e,o){1&e&&(n._uU(0,"\n      "),n._UZ(1,"app-background-music"),n._uU(2,"\n    "))}const F=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-songs"]],decls:17,vars:0,consts:[["mat-tab-label",""],["matTabContent",""],["translate",""]],template:function(t,i){1&t&&(n.TgZ(0,"mat-tab-group"),n._uU(1,"\n  "),n.TgZ(2,"mat-tab"),n._uU(3,"\n    "),n.YNc(4,A,3,0,"ng-template",0),n._uU(5,"\n    "),n.YNc(6,w,3,0,"ng-template",1),n._uU(7,"\n  "),n.qZA(),n._uU(8,"\n  "),n.TgZ(9,"mat-tab"),n._uU(10,"\n    "),n.YNc(11,b,2,0,"ng-template",0),n._uU(12,"\n    "),n.YNc(13,k,3,0,"ng-template",1),n._uU(14,"\n  "),n.qZA(),n._uU(15,"\n"),n.qZA(),n._uU(16,"\n"))},directives:[a.SP,a.uX,a.uD,a.Vc,l.Pi,Z,x],styles:[""]}),e})(),data:{title:(0,U.J)("Songs")}}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[],imports:[[p.Bz.forChild(F)],p.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[c.ez,l.aw,v.m8,S.q,u.mZ,B]]}),e})()}}]);